{"version":3,"sources":["buttons/StereoButton.js"],"names":["define","PhotoSphereViewer","PSVUtils","PSVNavBarButton","PSVNavBarStereoButton","navbar","call","this","create","prototype","Object","constructor","id","className","icon","psv","on","destroy","off","supported","SYSTEM","fullscreenEvent","checkTHREE","deviceOrientationSupported","handleEvent","e","type","toggleActive","args","_onClick","toggleStereoView"],"mappings":";;;;;;;AAAAA,QACE,eACA,cACA,YACA,SACAC,EACAC,EACAC,GAEA,aAQA,SAASC,EAAsBC,GAC7BF,EAAgBG,KAAKC,KAAMF,GAE3BE,KAAKC,SA8DP,OA3DAJ,EAAsBK,UAAYC,OAAOF,OAAOL,EAAgBM,WAChEL,EAAsBK,UAAUE,YAAcP,EAE9CA,EAAsBQ,GAAK,SAC3BR,EAAsBS,UAAY,uDAClCT,EAAsBU,KAAO,aAM7BV,EAAsBK,UAAUD,OAAS,WACvCL,EAAgBM,UAAUD,OAAOF,KAAKC,MAEtCA,KAAKQ,IAAIC,GAAG,iBAAkBT,OAMhCH,EAAsBK,UAAUQ,QAAU,WACxCV,KAAKQ,IAAIG,IAAI,iBAAkBX,MAE/BJ,EAAgBM,UAAUQ,QAAQX,KAAKC,OAMzCH,EAAsBK,UAAUU,UAAY,WAC1C,SAAKlB,EAAkBmB,OAAOC,kBAAoBnB,EAASoB,WAAW,+BAI7DrB,EAAkBmB,OAAOG,4BASpCnB,EAAsBK,UAAUe,YAAc,SAASC,GACrD,OAAQA,EAAEC,MAER,IAAK,iBAAkBnB,KAAKoB,aAAaF,EAAEG,KAAK,MASpDxB,EAAsBK,UAAUoB,SAAW,WACzCtB,KAAKQ,IAAIe,oBAGJ1B","file":"../../buttons/StereoButton.js","sourcesContent":["define([\n  \"../_psv/ctoc\",\n  \"../PSVUtils\",\n  \"./Button\"\n],function(\n  PhotoSphereViewer,\n  PSVUtils,\n  PSVNavBarButton\n){\n  \"use strict\";\n  /**\n   * Navigation bar gyroscope button class\n   * @param {module:components.PSVNavBar} navbar\n   * @constructor\n   * @extends module:components/buttons.PSVNavBarButton\n   * @memberof module:components/buttons\n   */\n  function PSVNavBarStereoButton(navbar) {\n    PSVNavBarButton.call(this, navbar);\n\n    this.create();\n  }\n\n  PSVNavBarStereoButton.prototype = Object.create(PSVNavBarButton.prototype);\n  PSVNavBarStereoButton.prototype.constructor = PSVNavBarStereoButton;\n\n  PSVNavBarStereoButton.id = 'stereo';\n  PSVNavBarStereoButton.className = 'psv-button psv-button--hover-scale psv-stereo-button';\n  PSVNavBarStereoButton.icon = 'stereo.svg';\n\n  /**\n   * @override\n   * @description The button gets visible once the gyroscope API is ready\n   */\n  PSVNavBarStereoButton.prototype.create = function() {\n    PSVNavBarButton.prototype.create.call(this);\n\n    this.psv.on('stereo-updated', this);\n  };\n\n  /**\n   * @override\n   */\n  PSVNavBarStereoButton.prototype.destroy = function() {\n    this.psv.off('stereo-updated', this);\n\n    PSVNavBarButton.prototype.destroy.call(this);\n  };\n\n  /**\n   * @override\n   */\n  PSVNavBarStereoButton.prototype.supported = function() {\n    if (!PhotoSphereViewer.SYSTEM.fullscreenEvent || !PSVUtils.checkTHREE('DeviceOrientationControls')) {\n      return false;\n    }\n    else {\n      return PhotoSphereViewer.SYSTEM.deviceOrientationSupported;\n    }\n  };\n\n  /**\n   * @summary Handles events\n   * @param {Event} e\n   * @private\n   */\n  PSVNavBarStereoButton.prototype.handleEvent = function(e) {\n    switch (e.type) {\n      // @formatter:off\n      case 'stereo-updated': this.toggleActive(e.args[0]); break;\n      // @formatter:on\n    }\n  };\n\n  /**\n   * @override\n   * @description Toggles gyroscope control\n   */\n  PSVNavBarStereoButton.prototype._onClick = function() {\n    this.psv.toggleStereoView();\n  };\n\n  return PSVNavBarStereoButton;\n\n});\n\n"]}