{"version":3,"sources":["buttons/GyroscopeButton.js"],"names":["define","PhotoSphereViewer","PSVUtils","PSVNavBarButton","PSVNavBarGyroscopeButton","navbar","call","this","create","prototype","Object","constructor","id","className","icon","psv","on","destroy","off","supported","checkTHREE","SYSTEM","deviceOrientationSupported","handleEvent","e","type","toggleActive","args","_onClick","toggleGyroscopeControl"],"mappings":";;;;;;;AAAAA,QACE,eACA,cACA,YACA,SACAC,EACAC,EACAC,GAEA,aAQA,SAASC,EAAyBC,GAChCF,EAAgBG,KAAKC,KAAMF,GAE3BE,KAAKC,SA8DP,OA3DAJ,EAAyBK,UAAYC,OAAOF,OAAOL,EAAgBM,WACnEL,EAAyBK,UAAUE,YAAcP,EAEjDA,EAAyBQ,GAAK,YAC9BR,EAAyBS,UAAY,0DACrCT,EAAyBU,KAAO,cAMhCV,EAAyBK,UAAUD,OAAS,WAC1CL,EAAgBM,UAAUD,OAAOF,KAAKC,MAEtCA,KAAKQ,IAAIC,GAAG,oBAAqBT,OAMnCH,EAAyBK,UAAUQ,QAAU,WAC3CV,KAAKQ,IAAIG,IAAI,oBAAqBX,MAElCJ,EAAgBM,UAAUQ,QAAQX,KAAKC,OAMzCH,EAAyBK,UAAUU,UAAY,WAC7C,QAAKjB,EAASkB,WAAW,8BAIhBnB,EAAkBoB,OAAOC,4BASpClB,EAAyBK,UAAUc,YAAc,SAASC,GACxD,OAAQA,EAAEC,MAER,IAAK,oBAAqBlB,KAAKmB,aAAaF,EAAEG,KAAK,MASvDvB,EAAyBK,UAAUmB,SAAW,WAC5CrB,KAAKQ,IAAIc,0BAGJzB","file":"../../buttons/GyroscopeButton.js","sourcesContent":["define([\n  \"../_psv/ctoc\",\n  \"../PSVUtils\",\n  \"./Button\"\n],function(\n  PhotoSphereViewer,\n  PSVUtils,\n  PSVNavBarButton\n){\n  \"use strict\";\n  /**\n   * Navigation bar gyroscope button class\n   * @param {module:components.PSVNavBar} navbar\n   * @constructor\n   * @extends module:components/buttons.PSVNavBarButton\n   * @memberof module:components/buttons\n   */\n  function PSVNavBarGyroscopeButton(navbar) {\n    PSVNavBarButton.call(this, navbar);\n\n    this.create();\n  }\n\n  PSVNavBarGyroscopeButton.prototype = Object.create(PSVNavBarButton.prototype);\n  PSVNavBarGyroscopeButton.prototype.constructor = PSVNavBarGyroscopeButton;\n\n  PSVNavBarGyroscopeButton.id = 'gyroscope';\n  PSVNavBarGyroscopeButton.className = 'psv-button psv-button--hover-scale psv-gyroscope-button';\n  PSVNavBarGyroscopeButton.icon = 'compass.svg';\n\n  /**\n   * @override\n   * @description The button gets visible once the gyroscope API is ready\n   */\n  PSVNavBarGyroscopeButton.prototype.create = function() {\n    PSVNavBarButton.prototype.create.call(this);\n\n    this.psv.on('gyroscope-updated', this);\n  };\n\n  /**\n   * @override\n   */\n  PSVNavBarGyroscopeButton.prototype.destroy = function() {\n    this.psv.off('gyroscope-updated', this);\n\n    PSVNavBarButton.prototype.destroy.call(this);\n  };\n\n  /**\n   * @override\n   */\n  PSVNavBarGyroscopeButton.prototype.supported = function() {\n    if (!PSVUtils.checkTHREE('DeviceOrientationControls')) {\n      return false;\n    }\n    else {\n      return PhotoSphereViewer.SYSTEM.deviceOrientationSupported;\n    }\n  };\n\n  /**\n   * @summary Handles events\n   * @param {Event} e\n   * @private\n   */\n  PSVNavBarGyroscopeButton.prototype.handleEvent = function(e) {\n    switch (e.type) {\n      // @formatter:off\n      case 'gyroscope-updated': this.toggleActive(e.args[0]); break;\n      // @formatter:on\n    }\n  };\n\n  /**\n   * @override\n   * @description Toggles gyroscope control\n   */\n  PSVNavBarGyroscopeButton.prototype._onClick = function() {\n    this.psv.toggleGyroscopeControl();\n  };\n\n  return PSVNavBarGyroscopeButton;\n\n});\n\n"]}