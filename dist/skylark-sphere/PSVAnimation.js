/**
 * skylark-sphere - A version of sphere that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-sphere/
 * @license MIT
 */
define([],function(){"use strict";function t(n){if(!(this instanceof t))return new t(n);this._cancelled=!1,this._resolved=!1;var i=this;this._promise=new Promise(function(t,n){i._resolve=t,i._reject=n}),n&&(n.easing&&"string"!=typeof n.easing||(n.easing=t.easings[n.easing||"linear"]),this._start=null,this._options=n,n.delay?this._delayTimeout=window.setTimeout(function(){this._delayTimeout=null,window.requestAnimationFrame(this._run.bind(this))}.bind(this),n.delay):window.requestAnimationFrame(this._run.bind(this)))}return t.easings={linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},inSine:function(t){return 1-Math.cos(t*(Math.PI/2))},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return.5-.5*Math.cos(Math.PI*t)},inExpo:function(t){return Math.pow(2,10*(t-1))},outExpo:function(t){return 1-Math.pow(2,-10*t)},inOutExpo:function(t){return(t=2*t-1)<0?.5*Math.pow(2,10*t):1-.5*Math.pow(2,-10*t)},inCirc:function(t){return 1-Math.sqrt(1-t*t)},outCirc:function(t){return t--,Math.sqrt(1-t*t)},inOutCirc:function(t){return(t*=2)<1?.5-.5*Math.sqrt(1-t*t):.5+.5*Math.sqrt(1-(t-=2)*t)}},t.prototype._run=function(t){if(!this._cancelled){null===this._start&&(this._start=t);var n,i=(t-this._start)/this._options.duration,e={};if(i<1){for(n in this._options.properties)this._options.properties[n]&&(e[n]=this._options.properties[n].start+(this._options.properties[n].end-this._options.properties[n].start)*this._options.easing(i));this._options.onTick(e,i),window.requestAnimationFrame(this._run.bind(this))}else{for(n in this._options.properties)this._options.properties[n]&&(e[n]=this._options.properties[n].end);this._options.onTick(e,1),window.requestAnimationFrame(function(){this._resolved=!0,this._resolve()}.bind(this))}}},t.prototype.then=function(n,i){var e=new t;return e._promise.then(null,this.cancel.bind(this)),this._promise.then(function(){e._resolve(n?n():void 0)},function(){e._reject(i?i():void 0)}),e},t.prototype.catch=function(t){return this.then(void 0,t)},t.prototype.finally=function(t){return this.then(t,t)},t.prototype.cancel=function(){this._cancelled||this._resolved||(this._cancelled=!0,this._reject(),this._delayTimeout&&(window.cancelAnimationFrame(this._delayTimeout),this._delayTimeout=null))},t});
//# sourceMappingURL=sourcemaps/PSVAnimation.js.map
